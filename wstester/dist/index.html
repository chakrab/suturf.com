<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WS Tester</title>
    <style>
        .header {
            background-color: #f1f1f1;
            padding: 10px;
            text-align: center;
            font-size: 1.1em;
        }
        .footer {
            background-color: #f1f1f1;
            padding: 10px;
            text-align: center;
            font-size: 0.8em;
        }
        .row {
            display: -webkit-flex;
            display: flex;
            text-align: center;
        }
        .column {
            -webkit-flex: 1;
            -ms-flex: 1;
            flex: 1;
            padding: 10px;
            border-style: ridge;
        }
        .indic {
            float: center;
            height: 3px;
            margin: 1px;
            border: 1px solid #000;
        }
        .green {
            background: #0f0;
        }
        .red {
            background: #f00;
        }
        .inlog {
            font-size: 0.8em;
            color: navy;
        }
        .outlog {
            font-size: 0.8em;
            color: orchid;
        }
        .msglog {
            font-size: 0.8em;
            color: darkgreen;
        }
        .warnlog {
            font-size: 0.8em;
            color: darkred;
        }
    </style>
    <!--
        <script type="application/javascript" src="../../shared/ext/js/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
    -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            var sock1 = undefined;
            var sock2 = undefined;
            var sock3 = undefined;

            connectWs = function(obj, sockt, indi) {
                var url = $("#wsurl").val();
                if (url === "") {
                    alert("URL missing...");
                    return;
                }
                apTxt = '<span class="msglog">[INFO] Creating connection...</span><br/>';
                $(obj).html(apTxt + $(obj).html());
                $(indi).removeClass("red");
                $(indi).addClass("green");
            }

            disconnectWs = function(obj, sockt, indi) {
            }

            $("#btnConnect1").click(function() {
                if (!sock1) {
                    connectWs("#logs1", sock1, "#indi1");

                }
            });
            $("#btnConnect2").click(function() {
                if (!sock2) {
                    connectWs("#logs2", sock2, "#indi2");
                }
            });
        });
    </script>
</head>
<body>
    <div class="header">
        <div class="row">
            <div class="column">
                <label for="wsurl">WS URL</label>
                <input type="text" id="wsurl" value="wss://echo.websocket.org" />
            </div>
            <div class="column">
                <label for="wsorg">Origin URL</label>
                <input type="text" id="wsorg" value="http://localhost/" />
            </div>
        </div>
        <div class="row">
            <div class="column">
                <label for="wsuser">Basic Auth</label>
                <input type="text" id="wsuser" />
                <input type="text" id="wspass" />
            </div>
            <div class="column">
                <label for="wstmout">Timeout</label>
                <input type="text" id="wstmout" value="20" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="column" style="background-color:rgb(232, 235, 186);">
            <div>
                <button id="btnConnect1">Connect</button>
                <button id="btnDisconnect1">Disconnect</button>
            </div>
            <div class="indic red" id="indi1"></div>
            <div>
                <div class="row">
                    <div class="column">
                        <label for="wssnd1">Text</label>
                    </div>
                    <div class="column">
                        <label for="file1">Binary</label>
                    </div>
                </div>
                <div class="row">
                    <div class="column">
                        <textarea rows="3" id="wssnd1"></textarea>
                    </div>
                    <div class="column">
                        <input type="file" id="file1" />
                    </div>
                </div>
                <div class="row">
                    <div class="column">
                        <button id="btnSend1">Send</button>
                    </div>
                </div>
            </div>
            <hr />
            <div id="logs1" contenteditable="false">
                <span class="msglog">[INFO] Enter WS URL and press connect...</span>
            </div>
        </div>
        <div class="column" style="background-color:rgb(233, 210, 160);">
            <div>
                <button id="btnConnect2">Connect</button>
                <button id="btnDisconnect2">Disconnect</button>
            </div>
            <div class="indic red" id="indi2"></div>
            <div>
                <div class="row">
                    <div class="column">
                        <label for="wssnd2">Text</label>
                    </div>
                    <div class="column">
                        <label for="file2">Binary</label>
                    </div>
                </div>
                <div class="row">
                    <div class="column">
                        <textarea rows="3" id="wssnd2"></textarea>
                    </div>
                    <div class="column">
                        <input type="file" id="file2" />
                    </div>
                </div>
                <div class="row">
                    <div class="column">
                        <button id="btnSend2">Send</button>
                    </div>
                </div>
            </div>
            <hr />
            <div id="logs2" contenteditable="false">
                <span class="msglog">[INFO] Enter WS URL and press connect...</span>
            </div>
        </div>
    </div>
</body>
</html>